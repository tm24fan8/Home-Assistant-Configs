input_boolean:
  shower_mode:
    name: Shower Mode
    icon: mdi:shower
  living_room_entertainment_mode:
    name: Living Room Entertainment Mode
    icon: mdi:party-popper
  front_porch_light_on:
    name: Front Porch Light On
    icon: hue:room-outdoors
  living_room_dynamic_scenes:
    name: Living Room Dynamic Scenes
    icon: mdi:animation
  living_room_entertainment_control:
    name: Living Room Entertainment Control
    icon: mdi:television-ambient-light
  delivery_mode:
    name: Delivery Mode
    icon: mdi:pizza
  holiday_mode:
    name: Holiday Mode
    icon: mdi:string-lights

input_number:
  upstairs_bathroom_motion_off_delay:
    name: Upstairs Bathroom Motion Off Delay
    min: 0
    max: 15
    step: 1
    unit_of_measurement: minutes
    icon: mdi:timer
  front_porch_motion_off_delay:
    name: Front Porch Motion Off Delay
    min: 0
    max: 30
    step: 1
    unit_of_measurement: minutes
    icon: mdi:timer

input_select:
  living_room_scenes:
    name: Living Room Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
      - Energize
      - Concentrate
      - Savanna Sunset
      - Tropical Twilight
      - Tokyo
      - Forest Adventure
      - Painted Sky
    initial: Select
    icon: hue:room-living
  mud_room_scenes:
    name: Mud Room Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
    initial: Select
    icon: hue:room-other
  dining_room_lamp_scenes:
    name: Dining Room Lamp Scenes
    options:
      - Select
      - Full
      - Dining Room
      - Wall
      - Nightlight
    initial: Select
    icon: mdi:floor-lamp-dual
  upstairs_hallway_scenes:
    name: Upstairs Hallway Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
    initial: Select
    icon: hue:ceiling-round
  kallen_bedroom_scenes:
    name: Kallen Bedroom Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
      - Overhead Nightlight
      - Wall Nightlight
    initial: Select
    icon: mdi:bunk-bed
  emma_bedroom_scenes:
    name: Emma Bedroom Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
    initial: Select
    icon: hue:room-nursery
  basement_studio_scenes:
    name: Basement Studio Scenes
    options:
      - Select
      - Adaptive
      - Energize
      - Concentrate
      - Bright
      - Dimmed
      - Nightlight
      - Relax
      - Purple
      - Pink
      - Kallen Reading
      - Baby Is Napping
      - Stairwell
    initial: Select
    icon: mdi:twitch
  master_bedroom_scenes:
    name: Master Bedroom Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
      - Front Nightlight
      - Side Nightlight
    initial: Select
    icon: mdi:bed
  upstairs_bathroom_scenes:
    name: Upstairs Bathroom Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
      - Single Nightlight
    initial: Select
    icon: mdi:toilet
  downstairs_bathroom_scenes:
    name: Downstairs Bathroom Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Dimmed
      - Nightlight
    initial: Select
    icon: mdi:toilet
  front_porch_scenes:
    name: Front Porch Scenes
    options:
      - Select
      - Adaptive
      - Bright
      - Energize
      - Concentrate
      - Dimmed
      - Nightlight
      - St Patricks Day
      - Halloween
    initial: Select
    icon: hue:room-porch
  tina_lamp_scenes:
    name: Tina Lamp Scenes
    options:
      - Select
      - Adaptive
      - Energize
      - Bright
      - Nightlight
    initial: Select
    icon: hue:room-dining
  holiday_animation:
    name: Holiday Animation
    options:
      - Christmas
      - Halloween
      - St Patricks Day
    icon: mdi:palette

input_text:
  living_room_selected_scene:
    name: Living Room Selected Scene
  mud_room_selected_scene:
    name: Mud Room Selected Scene
  dining_room_lamp_selected_scene:
    name: Dining Room Lamp Selected Scene
  upstairs_hallway_selected_scene:
    name: Upstairs Hallway Selected Scene
  kallen_bedroom_selected_scene:
    name: Kallen Bedroom Selected Scene
  emma_bedroom_selected_scene:
    name: Emma Bedroom Selected Scene
  basement_studio_selected_scene:
    name: Basement Studio Selected Scene
  master_bedroom_selected_scene:
    name: Master Bedroom Selected Scene
  upstairs_bathroom_selected_scene:
    name: Upstairs Bathroom Selected Scene
  downstairs_bathroom_selected_scene:
    name: Downstairs Bathroom Selected Scene
  front_porch_selected_scene:
    name: Front Porch Selected Scene
  tina_lamp_selected_scene:
    name: Tina Lamp Selected Scene

switch:
  - platform: animated_scenes
    name: Christmas
    restore: False
    restore_power: False
    ignore_off: False
    lights:
      - light.front_porch_light
    colors:
      - color_type: rgb_color
        color: [255,0,0]
        brightness: 255
      - color_type: rgb_color
        color: [0,255,0]
        brightness: 255
    transition: 10
    change_frequency: 60
    change_amount: all
    change_sequence: True
    animate_brightness: True
    animate_color: True

automation:
  # The commented-out automations have been moved to Node-RED because they are easier to implement there.
  # Keeping here for reference purposes.

  # - id: 6fe64356-00a2-4cad-bb85-f6dd05f29de7
  #   alias: Upstairs Bathroom Motion Lights
  #   description: Turns up lights in the upstairs bathroom at night when someone walks into the room.
  #   mode: queued
  #   trigger:
  #     - platform: state
  #       entity_id: binary_sensor.upstairs_bathroom_motion
  #       to: 'on'
  #       id: motion-on
  #     - platform: state
  #       entity_id: binary_sensor.upstairs_bathroom_motion
  #       to: 'off'
  #       id: motion-off
  #       for:
  #         hours: 0
  #         minutes: 1
  #         seconds: 30
  #   condition:
  #     - condition: state
  #       entity_id: input_boolean.early_night_mode
  #       state: 'on'
  #     - condition: state
  #       entity_id: input_boolean.shower_mode
  #       state: 'off'
  #   action:
  #     - if:
  #         - condition: trigger
  #           id: motion-on
  #       then:
  #         - service: input_select.select_option
  #           target:
  #             entity_id: input_select.upstairs_bathroom_scenes
  #           data:
  #             option: Adaptive
  #     - if:
  #         - condition: trigger
  #           id: motion-off
  #       then:
  #         - service: input_select.select_option
  #           target:
  #             entity_id: input_select.upstairs_bathroom_scenes
  #           data:
  #             option: >-
  #               {% if is_state('input_boolean.early_night_mode','on') and is_state('input_boolean.night_mode','off') %}
  #                 Nightlight
  #               {% elif is_state('input_boolean.night_mode','on') %}
  #                 Single Nightlight
  #               {% else %}
  #                 Adaptive
  #               {% endif %}

  # - id: f52eca30-c2e4-43dc-b220-7e9be96b465a
  #   alias: Shower Mode
  #   description: Temporarily override upstairs bathroom motion lights for the purpose of taking a shower
  #   trigger:
  #     - platform: state
  #       entity_id: input_boolean.shower_mode
  #       from: 'off'
  #       to: 'on'
  #       id: shower-on
  #     - platform: state
  #       entity_id: input_boolean.shower_mode
  #       from: 'on'
  #       to: 'off'
  #       id: shower-off
  #   action:
  #     - if:
  #       - condition: trigger
  #         id: shower-on
  #       then:
  #         - service: input_select.select_option
  #           target:
  #             entity_id: input_select.upstairs_bathroom_scenes
  #           data:
  #             option: Bright
  #     - if:
  #       - condition: trigger
  #         id: shower-off
  #       then:
  #         - if:
  #           - condition: state
  #             entity_id: input_boolean.early_night_mode
  #             state: 'on'
  #           then:
  #             - service: input_select.select_option
  #               target:
  #                 entity_id: input_select.upstairs_bathroom_scenes
  #               data:
  #                 option: Adaptive
  #           else:
  #             - service: light.turn_off
  #               target:
  #                 entity_id: light.upstairs_bathroom_lights
  #             - delay:
  #                 seconds: 5
  #             - service: switch.turn_on
  #               target:
  #                 entity_id: switch.adaptive_lighting_upstairs_bathroom
  #             - service: input_text.set_value
  #               target:
  #                 entity_id: input_text.upstairs_bathroom_selected_scene
  #               data:
  #                 value: Adaptive

  - id: 477e6e8a-4e33-4268-8c2d-f39902c0d64f
    alias: Living Room Night Lighting
    description: Provide lighting in case anyone needs to go downstairs in the middle of the night.
    trigger:
      - platform: state
        entity_id: binary_sensor.living_room_motion
        from: 'off'
        to: 'on'
        id: motion-on
      - platform: state
        entity_id: binary_sensor.living_room_motion
        from: 'on'
        to: 'off'
        for:
          hours: 0
          minutes: 10
          seconds: 0
        id: motion-off
    condition:
      - condition: state
        entity_id: binary_sensor.people_present
        state: 'on'
      - condition: state
        entity_id: input_boolean.night_mode
        state: 'on'
      - condition: state
        entity_id: input_boolean.vacation_mode
        state: 'off'
    action:
      - if:
        - condition: trigger
          id: motion-on
        then:
          - service: light.turn_on
            target:
              entity_id: light.first_floor_lights
          - service: input_select.select_option
            target:
              entity_id:
                - input_select.living_room_scenes
                - input_select.tina_lamp_scenes
                - input_select.mud_room_scenes
                - input_select.downstairs_bathroom_scenes
            data:
              option: Adaptive
          - service: input_select.select_option
            target:
              entity_id: input_select.dining_room_lamp_scenes
            data:
              option: Full
      - if:
        - condition: trigger
          id: motion-off
        then:
          - service: light.turn_off
            target:
              entity_id: light.first_floor_lights

scene:
  - name: Adaptive in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Adaptive"
  - name: Bright in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Bright"
  - name: Dimmed in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Dimmed"
  - name: Nightlight in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Nightlight"
  - name: Energize in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Energize"
  - name: Concentrate in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Concentrate"
  - name: Savanna Sunset in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Savanna Sunset"
  - name: Tropical Twilight in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Tropical Twilight"
  - name: Tokyo in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Tokyo"
  - name: Forest Adventure in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Forest Adventure"
  - name: Painted Sky in Living Room
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Painted Sky"
  - name: Adaptive in Downstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.downstairs_bathroom_scenes:
        state: "Adaptive"
  - name: Bright in Downstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.downstairs_bathroom_scenes:
        state: "Bright"
  - name: Dimmed in Downstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.downstairs_bathroom_scenes:
        state: "Dimmed"
  - name: Nightlight in Downstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.downstairs_bathroom_scenes:
        state: "Nightlight"
  - name: Full in Dining Room Lamp
    icon: mdi:palette
    entities:
      input_select.dining_room_lamp_scenes:
        state: "Full"
  - name: Nightlight in Dining Room Lamp
    icon: mdi:palette
    entities:
      input_select.dining_room_lamp_scenes:
        state: "Nightlight"
  - name: Adaptive in Tina Lamp
    icon: mdi:palette
    entities:
      input_select.tina_lamp_scenes:
        state: "Adaptive"
  - name: Energize in Tina Lamp
    icon: mdi:palette
    entities:
      input_select.tina_lamp_scenes:
        state: "Energize"
  - name: Bright in Tina Lamp
    icon: mdi:palette
    entities:
      input_select.tina_lamp_scenes:
        state: "Bright"
  - name: Nightlight in Tina Lamp
    icon: mdi:palette
    entities:
      input_select.tina_lamp_scenes:
        state: "Nightlight"
  - name: Adaptive in Mud Room
    icon: mdi:palette
    entities:
      input_select.mud_room_scenes:
        state: "Adaptive"
  - name: Bright in Mud Room
    icon: mdi:palette
    entities:
      input_select.mud_room_scenes:
        state: "Bright"
  - name: Dimmed in Mud Room
    icon: mdi:palette
    entities:
      input_select.mud_room_scenes:
        state: "Dimmed"
  - name: Nightlight in Mud Room
    icon: mdi:palette
    entities:
      input_select.mud_room_scenes:
        state: "Nightlight"
  - name: Adaptive in Upstairs Hallway
    icon: mdi:palette
    entities:
      input_select.upstairs_hallway_scenes:
        state: "Adaptive"
  - name: Bright in Upstairs Hallway
    icon: mdi:palette
    entities:
      input_select.upstairs_hallway_scenes:
        state: "Bright"
  - name: Dimmed in Upstairs Hallway
    icon: mdi:palette
    entities:
      input_select.upstairs_hallway_scenes:
        state: "Dimmed"
  - name: Nightlight in Upstairs Hallway
    icon: mdi:palette
    entities:
      input_select.upstairs_hallway_scenes:
        state: "Nightlight"
  - name: Adaptive in Upstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.upstairs_bathroom_scenes:
        state: "Adaptive"
  - name: Bright in Upstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.upstairs_bathroom_scenes:
        state: "Bright"
  - name: Dimmed in Upstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.upstairs_bathroom_scenes:
        state: "Dimmed"
  - name: Nightlight in Upstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.upstairs_bathroom_scenes:
        state: "Nightlight"
  - name: Single Nightlight in Upstairs Bathroom
    icon: mdi:palette
    entities:
      input_select.upstairs_bathroom_scenes:
        state: "Single Nightlight"
  - name: Adaptive in Master Bedroom
    icon: mdi:palette
    entities:
      input_select.master_bedroom_scenes:
        state: "Adaptive"
  - name: Bright in Master Bedroom
    icon: mdi:palette
    entities:
      input_select.master_bedroom_scenes:
        state: "Bright"
  - name: Dimmed in Master Bedroom
    icon: mdi:palette
    entities:
      input_select.master_bedroom_scenes:
        state: "Dimmed"
  - name: Nightlight in Master Bedroom
    icon: mdi:palette
    entities:
      input_select.master_bedroom_scenes:
        state: "Nightlight"
  - name: Front Nightlight in Master Bedroom
    icon: mdi:palette
    entities:
      input_select.master_bedroom_scenes:
        state: "Front Nightlight"
  - name: Side Nightlight in Master Bedroom
    icon: mdi:palette
    entities:
      input_select.master_bedroom_scenes:
        state: "Side Nightlight"
  - name: Adaptive in Kallen Bedroom
    icon: mdi:palette
    entities:
      input_select.kallen_bedroom_scenes:
        state: "Adaptive"
  - name: Bright in Kallen Bedroom
    icon: mdi:palette
    entities:
      input_select.kallen_bedroom_scenes:
        state: "Bright"
  - name: Dimmed in Kallen Bedroom
    icon: mdi:palette
    entities:
      input_select.kallen_bedroom_scenes:
        state: "Dimmed"
  - name: Nightlight in Kallen Bedroom
    icon: mdi:palette
    entities:
      input_select.kallen_bedroom_scenes:
        state: "Nightlight"
  - name: Overhead Nightlight in Kallen Bedroom
    icon: mdi:palette
    entities:
      input_select.kallen_bedroom_scenes:
        state: "Overhead Nightlight"
  - name: Wall Nightlight in Kallen Bedroom
    icon: mdi:palette
    entities:
      input_select.kallen_bedroom_scenes:
        state: "Wall Nightlight"
  - name: Adaptive in Emma Bedroom
    icon: mdi:palette
    entities:
      input_select.emma_bedroom_scenes:
        state: "Adaptive"
  - name: Bright in Emma Bedroom
    icon: mdi:palette
    entities:
      input_select.emma_bedroom_scenes:
        state: "Bright"
  - name: Dimmed in Emma Bedroom
    icon: mdi:palette
    entities:
      input_select.emma_bedroom_scenes:
        state: "Dimmed"
  - name: Nightlight in Emma Bedroom
    icon: mdi:palette
    entities:
      input_select.emma_bedroom_scenes:
        state: "Nightlight"
  - name: Adaptive in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Adaptive"
  - name: Energize in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Energize"
  - name: Concentrate in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Concentrate"
  - name: Bright in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Bright"
  - name: Dimmed in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Dimmed"
  - name: Nightlight in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Nightlight"
  - name: Relax in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Relax"
  - name: Purple in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Purple"
  - name: Pink in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Pink"
  - name: Kallen Reading in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Kallen Reading"
  - name: Baby Is Napping in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Baby Is Napping"
  - name: Stairwell in Basement Studio
    icon: mdi:palette
    entities:
      input_select.basement_studio_scenes:
        state: "Stairwell"
  - name: Adaptive on First Floor
    icon: mdi:palette
    entities:
      input_select.living_room_scenes:
        state: "Adaptive"
      input_select.dining_room_lamp_scenes:
        state: "Full"
      input_select.tina_lamp_scenes:
        state: "Adaptive"
      input_select.downstairs_bathroom_scenes:
        state: "Adaptive"
      input_select.mud_room_scenes:
        state: "Adaptive"
  - name: Adaptive on Second Floor
    icon: mdi:palette
    entities:
      input_select.upstairs_hallway_scenes:
        state: "Adaptive"
      input_select.upstairs_bathroom_scenes:
        state: "Adaptive"
      input_select.master_bedroom_scenes:
        state: "Adaptive"
      input_select.kallen_bedroom_scenes:
        state: "Adaptive"
      input_select.emma_bedroom_scenes:
        state: "Adaptive"