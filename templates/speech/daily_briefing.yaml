>
  {# Daily Briefing #}
  {%- macro getReport() -%}
      <p>
        {% if now().strftime('%H')|int < 12 %}
          {{ [
            "Good morning. ",
            "Top of the morning to you laddy. ",
          ] | random }}
        {% elif now().strftime('%H')|int >= 12 and now().strftime('%H')|int < 17 %}
          {{ [
            "Greetings earthling. ",
            "Good afternoon. ",
            "How do you do, fellow kids? ",
          ] | random }}
        {% else %}
          {{ [
            "Good evening. ",
            "The grandest of evenings to you. "
          ] | random }}
        {% endif %}
      </p>

        {% if is_state('binary_sensor.morning','on') %}
          <p>
            Today is {{ states.sensor.today_is.state }}, {{ as_timestamp(now()) | timestamp_custom('%B %d %Y') }}.
          </p>
        {% else %}
          <p>
            It is {{ now().strftime("%I:%M %p") }}.
          </p>
        {% endif %}
      
      <p>
        {{ states('sensor.current_conditions_detail') }}
        {% if is_state('input_boolean.lightning_warning','on') %}
          {% set ltgdist = (states('sensor.blitzortung_lightning_distance') | int) / 1.609 | round %}
          {{ [
            "There are reports of lightning in the area, please stay safe. ",
            "My sensors detect the presence of lightning nearby, so you should prepare to take shelter if needed. ",
            "A little birdy told me there is lightning nearby. His feathers were all sticking up, I have no idea why. ",
            "Please exercise caution, as there is lightning in the area. ",
            "That flashing in the sky is not interstellar warfare, it is simply lightning. But you should still be careful outside. ",
          ] | random }}
          "The nearest lightning strike is {{ ltgdist }} miles away. "
        {% endif %}
        {% if states('sensor.weatheralerts_active_alerts') > '0' %}
          "Currently there are weather alerts active. The total number of alerts is {{ states('sensor.weatheralerts_active_alerts') }}. They are as follows. "
            {% if is_state('sensor.weatheralerts_alert_1','on') %}
              "{{ state_attr('sensor.weatheralerts_alert_1','alert_event') }}"
            {% endif %}
            {% if is_state('sensor.weatheralerts_alert_2','on') %}
              "{{ state_attr('sensor.weatheralerts_alert_2','alert_event') }}"
            {% endif %}
            {% if is_state('sensor.weatheralerts_alert_3','on') %}
              "{{ state_attr('sensor.weatheralerts_alert_3','alert_event') }}"
            {% endif %}
            {% if is_state('sensor.weatheralerts_alert_4','on') %}
              "{{ state_attr('sensor.weatheralerts_alert_4','alert_event') }}"
            {% endif %}
            {% if is_state('sensor.weatheralerts_alert_5','on') %}
              "{{ state_attr('sensor.weatheralerts_alert_5','alert_event') }}"
            {% endif %}
        {% endif %}
      </p>

      <p>
        {{ [
          'The weather for the rest of today should be,',
          'The forecast for the rest of the day is,',
          'Through the rest of your day, the weather is expected to be,'
          ] | random }}
          {{ states.sensor.current_forecast.state }}
      </p>

      <p>
        {{ [
          'Just in case you were planning on going anywhere,',
          'On the off chance that you planned to go outside,',
          'If you were planning to go out and do something with your life,',
          ] | random }}
          {{ states('sensor.clothing_forecast_detail') }}
      </p>

      <p>
        {% if is_state('sun.sun','below_horizon') %}
          You have
          {% set seconds = as_timestamp(states.sun.sun.attributes.next_rising)-now().timestamp() %}
          {% set hours = seconds / 60 %}
          {% if seconds / ( 60 * 60 ) > 1 %}
            {{ (seconds // ( 60 * 60 )) | int }} hours
          {% else %}
            {{ (seconds // 60) | int }} minutes
          {% endif %}
          {{ [
          'until the sun rises.',
          'until the sun is up',
          'before the sun officially rises.'
          ] | random }}
        {% else %}
          You have
          {% set seconds = as_timestamp(states.sun.sun.attributes.next_setting)-now().timestamp() %}
          {% set hours = seconds / 60 %}
          {% if seconds / ( 60 * 60 ) > 1 %}
            {{ (seconds //  ( 60 * 60 )) | int }} hours
          {% else %}
            {{ (seconds // 60) | int }} minutes
          {% endif %}
          {{ [
            'until the sun sets for the day.',
            'until the sun slips below the horizon.',
            'before the sun officially sets. '
          ]|random }}
        {% endif %}
      </p>

      {% set dow = as_timestamp(now()) | timestamp_custom('%A') %}
      <p>
        {{ [
          "On today's agenda, we have the following. ",
          "Today's announcements include the following. ",
          "Given that you are well into your day, here is a bit of helpful information. ",
          "You are past the point of no return and must finish your day, so I am here to help you out. ",
          "The developer has informed me that I must inform you of the following informational information. ",
        ] | random }}

        {% if is_state('binary_sensor.evening','on') %}
          {% if is_state('sensor.anniversary_tony_s_birthday','0') %}
            Hope you had a happy birthday Tony!
          {% endif %}
          {% if is_state('sensor.anniversary_tina_s_birthday','0') %}
            Hope you had a happy birthday Tina!
          {% endif %}
          {% if is_state('sensor.anniversary_kallen_s_birthday','0') %}
            Hope you had a happy birthday Collin!
          {% endif %}
          {% if is_state('sensor.anniversary_emmalynn_s_birthday','0') %}
            Hope you had a happy birthday Emmalynn!
          {% endif %}

          {% if states.sensor.halloween_countdown.state | int == 1 %}
            Tomorrow is Halloween. I hope you have picked out a costume. I will be going as Tony. I am scared just thinking about it!
          {% elif states.sensor.halloween_countdown.state | int < 30 %}
            There are only {{states.sensor.halloween_countdown.state}} days
            {{ [ 'until Halloween.',
            'until Halloween. It might not be enough time.',
            'until you need a costume.'
            ] | random }}
          {% endif %}

          {% if states.sensor.christmas_countdown.state | int == 1 %}
            Tomorrow is Christmas. <break time="1s"/> It is practically here! <break time="1s"/> Santa is coming tonight! Do not forget the cookies!
          {% elif states.sensor.christmas_countdown.state | int < 31 %}
            There are only {{states.sensor.christmas_countdown.state}} days until Christmas.
            {{ [ 'All I want for Christmas is a Hippopotamus.',
            'Hey Collin, I know what you are getting for Christmas. But I am not telling.',
            'Do not forget to put something under the tree for your favorite <say-as interpret-as="characters">AI</say-as> this year!',
            'It is starting to smell a lot like Christmas. Or it could be that the christmas tree is on fire.',
            'I do not want to be a smarthome. I want to be a dentist.',
            'Do not eat all the cookies.',
            'All I want for Christmas is for Mariah Carey to get off my radio.'
            ] | random }}
          {% endif %}

          {% if states.sensor.anniversary_wedding_anniversary.state | int == 1 %}
            Tomorrow is Tony and Christina's wedding anniversary!
          {% endif %}

          {% set tina = states.person.christina_stork.state %}
          {% if tina in ['Bob Evans','BobEvans'] and is_state('input_boolean.work_today','on') %}
            <s>Tina is at work right now. She will be done at approximately {{ (state_attr('input_datetime.tina_workday_end','timestamp') | int | timestamp_custom('%I:%M %p', False)) }}. </s>
          {% elif is_state('input_boolean.work_today','on') %}
            Tina has work today.
          {% endif %}

        
        {% else %}
          {% if is_state('sensor.halloween_countdown','0') %}
            Happy Halloween!
          {% endif %}
          {% if is_state('sensor.christmas_countdown','0') %}
            Merry Christmas!
          {% endif %}
          {% if is_state('sensor.anniversary_wedding_anniversary','0') %}
            Happy Anniversary! It has been an amazing {{ states.sensor.anniversary_wedding_anniversary.attributes.years }} years!
          {% endif %}
          {% if is_state('sensor.anniversary_tony_s_birthday','0') %}
            Happy Birthday Tony!
          {% endif %}
          {% if is_state('sensor.anniversary_tina_s_birthday','0') %}
            Happy Birthday Tina!
          {% endif %}
          {% if is_state('sensor.anniversary_kallen_s_birthday','0') %}
            Happy Birthday Collin!
          {% endif %}
          {% if is_state('sensor.anniversary_emmalynn_s_birthday','0') %}
            Happy Birthday Emmalynn!
          {% endif %}
          {%- set event=states.calendar.national_holidays.attributes.message %}
          {% if 'Day' in event and 'National' in event%}
            {{ [
              'Today is also known as ',
              'Today we are also celebrating'
          ]|random }}
          
            {{states.calendar.national_holidays.attributes.message | replace("&"," and ") }}.
              {% if 'Chocolate' in event %}
                {{ [
                'Oh. You had me at Chocolate. I like Chocolate.',
                'And I like chocolate. This sounds fun. More Chocolate please!'
              ]|random }}
              {%- endif -%}

              {% if 'Pi' in event or 'Pie' in event%}
                {{ [
                'We should make a pie. And by we I mean someone with actual arms. ',
                'Wait.<break time="1s"/>Did that just say pie? We need a Pie to celebrate.'
              ]|random }}
              {%- endif -%}

              {% if 'Cookie' in event %}
                {{ [
                '<break time="1s"/>And Yes. You heard that right. Today we are making cookies.',
                'I will put butter on the shopping list. For later. ',
                'So that means we should make cookies.'
              ]|random }}
              {%- endif -%}

              {% if 'Pizza' in event %}
                {{ [
                'I think that means we should have pizza today. and by we I mean those of us with a mouth.',
                'So who is going to make the pizza?',
                'Everyone knows Pepperoni Pizza is the best. am I right?'
              ]|random }}
              {%- endif -%}

              {% if 'Cake' in event %}
                {{ [
                'I have just added baking a cake to your calendar. And set your availability to busy.',
                'Quick. Someone check to see if we have powdered sugar for frosting.',
                'So that means we should bake a cake. And frost it. But not like that time in that movie. '
              ]|random }}
              {%- endif -%}

              {% if 'Fools' in event %}
                {{ [
                'Which reminds me. The front porch camera caught a Tee Rex last night. <break time="1s"/> April Fools!',
                'Which reminds me. I won the lottery and I am moving out to go live with Siri. <break time="1s"/> April Fools!',
                'Which reminds me. there was a time change last night. We have jumped 15 years into the future. Great Scott! <break time="1s"/> April Fools!'
              ]|random }}
              {%- endif -%}

              {% if 'Creme Brulee' in event %}
                {{ [
                'Someday I hope to make the perfect creme brulee.'
              ]|random }}
              {%- endif -%}

              {% if 'Games' in event %}
                {{ [
                'Does anyone want to play Thermal nuclear war with me?<break time="1s"/>No? How about a nice game of chess?'
              ]|random }}
              {%- endif -%}

              {% if 'Haiku' in event %}
                I know a Haiku. This one is called,
                {{ [
                'Good Morning From the Cat. <break time="1s"/>In the morning light, You sleep despite my meow, I stand on your face.',
                'Tee Rex Hug. <break time="1s"/> The Tee Rex likes you, But he cant give you a hug, His arms are too short.',
                'It Fits. <break time="1s"/> It Fits perfectly, because every box is the, Right size for a cat.',
                'Minecraft Creepers. <break time="1s"/> Creepers are so cruel, I hear a hiss from behind, Bam! There goes my stuff.'
              ]|random }}
              {%- endif -%}

              <break time="2s"/>
          
            {% else %}
              {% if 'Birthday' in event %}
                {{ [
                  'Today is a special birthday. We are celebrating '
                ]|random }}
                {{states.calendar.national_holidays.attributes.message | replace("&"," and ") }}.
              {%- endif -%}
            {%- endif -%}

            {% set tina = states.person.christina_stork.state %}
            {% if tina in ['Bob Evans','BobEvans'] and is_state('input_boolean.work_today','on') %}
              {{ [
                "Tina is still at work right now, ",
                "Tina has not yet been released from work, ",
                "Tina is still at the thankless idiot scape known as work, ",
                "Tina is still consumed by the gods of capitalism, ",
              ] | random }} she will be done at approximately {{ (state_attr('input_datetime.tina_workday_end','timestamp') | int | timestamp_custom('%I:%M %p', False)) }}.
            {% elif is_state('input_boolean.work_today','on') %}
              {{ [
                "Tina must go and please the food gods today ",
                "Today, Tina must go and entertain the gremlins known as her customers and coworkers ",
                "Today, Tina will be owned by our lovely lord and savior, capitalism, starting ",
                "Tina will attempt to satiate the patron saint of capitalism today "
              ] | random }} at {{ (state_attr('input_datetime.tina_workday_start','timestamp') | int | timestamp_custom('%I:%M %p', False)) }}.
            {% endif %}

            {% if is_state('input_boolean.tony_streaming_today','on') %}
              {{ [
                "Tony will be pretending to be a real content creator tonight. ",
                "Tony will be doing his best to defeat his impostor syndrome tonight. ",
                "Tony will be playing video games and yelling into a microphone tonight. ",
                "Tony will be scraping out the nickels and dimes tonight for the sake of entertainment. ",
                "Tony is not really all that funny, but tonight he will present himself to a crowd of questionable individuals who seem to think that he is. "
              ] | random }} The studio is scheduled to go online at {{ (state_attr('input_datetime.tony_streaming_start_time','timestamp') | int | timestamp_custom('%I:%M %p', False)) }}. "
            {% endif %}

            {% if is_state('input_boolean.kallen_school_today', 'on') %}
              {% if is_state('sensor.school_start_days2go', '0') %}
                Today is the first day of school! There are {{ states('sensor.school_end_days2go') }} to go until the last day.
              {% else %}
                {{ [ 'Today is a school day.',
                  'Collin has school today.',
                  'It is a school day. '
                ] | random }}
                {% if is_state('input_boolean.kallen_two_hour_delay','on') %}
                  'But there was a two hour delay. '
                {% endif %}
              {% endif %}
              <s>Pickup today will be at {{(state_attr('input_datetime.kallen_school_day_end', 'timestamp') | int | timestamp_custom('%I:%M %p', False)) }}</s>
              {% if is_state('input_boolean.kallen_school_early_release','on') %}
                And It is early release!
              {% endif %}
            {% endif %}
            {% if is_state('input_boolean.kallen_school_cancelled','on') %}
              'School has been cancelled for today. '
            {% endif %}
            {% if states.sensor.thanksgiving_break_days2go.state | int <= 14 and states.sensor.thanksgiving_break_days2go.state | int > 0 %}
                {{ [ 'Oh, and look at that.',
                'For those trying to keep count. ',
                'In case you were wondering.',
                'Also, did you know.'
              ] | random }}
                There are only {{ states.sensor.thanksgiving_break_days2go.state }} days until Thanksgiving Break!
            {% endif %}
            {% if states.sensor.christmas_break_days2go.state | int <= 14 and states.sensor.christmas_break_days2go.state | int > 0 %}
                {{ [ 'Oh, and look at that.',
                'For those trying to keep count. ',
                'In case you were wondering.',
                'Also, did you know.'
              ] | random }}
                There are only {{ states.sensor.christmas_break_days2go.state }} days until Christmas Break!
            {% endif %}
            {% if states.sensor.spring_break_days2go.state | int <= 14 and states.sensor.spring_break_days2go.state | int > 0 %}
                {{ [ 'Oh, and look at that.',
                'For those trying to keep count. ',
                'In case you were wondering.',
                'Also, did you know.'
              ] | random }}
                There are only {{ states.sensor.spring_break_days2go.state }} days until Spring Break!
            {% endif %}
            {% if states.sensor.school_end_days2go.state | int <= 35 and states.sensor.school_end_days2go.state | int > 0  %}
                {{ [ 'Oh, and look at that.',
                'For those trying to keep count. ',
                'In case you were wondering.',
                'Also, did you know.'
              ] | random }}
                There are only {{ states.sensor.school_end_days2go.state }} days left in the school year!
            {% endif %}
            {% if now().strftime('%Y-%m-%d') == states.input_datetime.school_last_day.state %}
              Congratulations, today is the last day of school! Have an awesome day!
            {% endif %}
            {% if states.sensor.school_end_days2go.state | int == -1 -%}
              Today is the first day of Summer Break! 
            {%- endif %}
          {% endif %}
      </p>

      <p>
        Around the house, there are currently {{ states.sensor.current_lights_on.state }} lights on.
      </p>

      <p>
        {% if is_state('input_boolean.sports_updates','on') %}
          {% if is_state('sensor.michigan_wolverines','PRE') %}
            {% set date = state_attr('sensor.michigan_wolverines','date') | as_timestamp | timestamp_custom('%m-%d') %}
            {% if date == now().strftime('%m-%d') %}
              "The Michigan Wolverines will be playing today against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} at {{ state_attr('sensor.michigan_wolverines','venue') }}. "
              "Kickoff will be at {{ state_attr('sensor.michigan_wolverines','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
            {% endif %}
          {% endif %}
          {% if is_state('sensor.ohio_state_buckeyes','PRE') %}
            {% if state_attr('sensor.ohio_state_buckeyes','opponent_abbr') not in ['MICH'] %}
              {% set date = state_attr('sensor.ohio_state_buckeyes','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                "The Ohio State Buckeyes will be playing today against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} at {{ state_attr('sensor.ohio_state_buckeyes','venue') }}. "
                "Kickoff will be at {{ state_attr('sensor.ohio_state_buckeyes','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.toledo_rockets','PRE') %}
            {% if state_attr('sensor.toledo_rockets','opponent_abbr') not in ['OSU','MICH'] %}
              {% set date = state_attr('sensor.toledo_rockets','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                "The Toledo Rockets will be playing today against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} at {{ state_attr('sensor.toledo_rockets','venue') }}. "
                "Kickoff will be at {{ state_attr('sensor.toledo_rockets','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.minnesota_vikings','PRE') %}
            {% set date = state_attr('sensor.minnesota_vikings','date') | as_timestamp | timestamp_custom('%m-%d') %}
            {% if date == now().strftime('%m-%d') %}
              "The Minnesota Vikings will be playing today against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} at {{ state_attr('sensor.minnesota_vikings','venue') }}. "
              "Kickoff will be at {{ state_attr('sensor.minnesota_vikings','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
            {% endif %}
          {% endif %}
          {% if is_state('sensor.san_francisco_49ers','PRE') %}
            {% if state_attr('sensor.san_francisco_49ers','opponent_abbr') not in ['MIN'] %}
              {% set date = state_attr('sensor.san_francisco_49ers','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                "The San Francisco 49ers will be playing today against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} at {{ state_attr('sensor.san_francisco_49ers','venue') }}. "
                "Kickoff will be at {{ state_attr('sensor.san_francisco_49ers','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.cleveland_guardians','PRE') %}
            {% set date = state_attr('sensor.cleveland_guardians','date') | as_timestamp | timestamp_custom('%m-%d') %}
            {% if date == now().strftime('%m-%d') %}
              "The Cleveland Guardians will be playing today against the {{ state_attr('sensor.cleveland_guardians','opponent_name') }} at {{ state_attr('sensor.cleveland_guardians','venue') }}. "
              "First pitch will be at {{ state_attr('sensor.cleveland_guardians','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
            {% endif %}
          {% endif %}
          {% if is_state('sensor.minnesota_twins','PRE') %}
            {% if state_attr('sensor.minnesota_twins','opponent_abbr') not in ['CLE','LAD'] %}
              {% set date = state_attr('sensor.minnesota_twins','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                "The Minnesota Twins will be playing today against the {{ state_attr('sensor.minnesota_twins','opponent_name') }} at {{ state_attr('sensor.minnesota_twins','venue') }}. "
                "First pitch will be at {{ state_attr('sensor.minnesota_twins','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.los_angeles_dodgers','PRE') %}
            {% if state_attr('sensor.los_angeles_dodgers','opponent_abbr') not in ['CLE'] %}
              {% set date = state_attr('sensor.los_angeles_dodgers','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                "The Los Angeles Dodgers will be playing today against the {{ state_attr('sensor.los_angeles_dodgers','opponent_name') }} at {{ state_attr('sensor.los_angeles_dodgers','venue') }}. "
                "First pitch will be at {{ state_attr('sensor.los_angeles_dodgers','date') | as_timestamp | timestamp_custom('%I:%M %p') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
        {% endif %}
      </p>

      <p>
        {% if is_state('input_boolean.sports_updates','on') %}
          {% if is_state('sensor.michigan_wolverines','POST') %}
            {% set date = state_attr('sensor.michigan_wolverines','date') | as_timestamp | timestamp_custom('%m-%d') %}
            {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
            {% if date == now().strftime('%m-%d') %}
              {% if (state_attr('sensor.michigan_wolverines','team_score') | int) > (state_attr('sensor.michigan_wolverines','opponent_score') | int) %}
                "The Michigan Wolverines won their game today against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} by a score of {{ state_attr('sensor.michigan_wolverines','team_score') }} to {{ state_attr('sensor.michigan_wolverines','opponent_score') }}. "
              {% else %}
                "The Michigan Wolverines lost their game today against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} by a score of {{ state_attr('sensor.michigan_wolverines','opponent_score') }} to {{ state_attr('sensor.michigan_wolverines','team_score') }}. "
              {% endif %}
                "This brings their record to {{ state_attr('sensor.michigan_wolverines','team_record') | replace("-"," and ") }} on the season. "
            {% elif yday == date %}
              {% if (state_attr('sensor.michigan_wolverines','team_score') | int) > (state_attr('sensor.michigan_wolverines','opponent_score') | int) %}
                "The Michigan Wolverines won their game yesterday against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} by a score of {{ state_attr('sensor.michigan_wolverines','team_score') }} to {{ state_attr('sensor.michigan_wolverines','opponent_score') }}. "
              {% else %}
                "The Michigan Wolverines lost their game yesterday against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} by a score of {{ state_attr('sensor.michigan_wolverines','opponent_score') }} to {{ state_attr('sensor.michigan_wolverines','team_score') }}. "
              {% endif %}
                "This brings their record to {{ state_attr('sensor.michigan_wolverines','team_record') | replace("-"," and ") }} on the season. "
            {% endif %}
          {% elif is_state('sensor.michigan_wolverines','IN') %}
            {% if (state_attr('sensor.michigan_wolverines','team_score') | int) > (state_attr('sensor.michigan_wolverines','opponent_score') | int) %}
              "The Michigan Wolverines are currently winning their game against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} with a score of {{ state_attr('sensor.michigan_wolverines','team_score') }} to {{ state_attr('sensor.michigan_wolverines','opponent_score') }}. "
            {% elif (state_attr('sensor.michigan_wolverines','team_score') | int) == (state_attr('sensor.michigan_wolverines','opponent_score') | int) %}
              "The Michigan Wolverines are currently tied in their game against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} with a score of {{ state_attr('sensor.michigan_wolverines','team_score') }} to {{ state_attr('sensor.michigan_wolverines','opponent_score') }}. "
            {% else %}
              "The Michigan Wolverines are currently losing their game against the {{ state_attr('sensor.michigan_wolverines','opponent_name') }} with a score of {{ state_attr('sensor.michigan_wolverines','opponent_score') }} to {{ state_attr('sensor.michigan_wolverines','team_score') }}. "
            {% endif %}
          {% endif %}
          {% if is_state('sensor.ohio_state_buckeyes','POST') %}
            {% if state_attr('sensor.ohio_state_buckeyes','opponent_abbr') not in ['MICH'] %}
              {% set date = state_attr('sensor.ohio_state_buckeyes','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                {% if (state_attr('sensor.ohio_state_buckeyes','team_score') | int) > (state_attr('sensor.ohio_state_buckeyes','opponent_score') | int) %}
                  "The Ohio State Buckeyes won their game today against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} by a score of {{ state_attr('sensor.ohio_state_buckeyes','team_score') }} to {{ state_attr('sensor.ohio_state_buckeyes','opponent_score') }}. "
                {% else %}
                  "The Ohio State Buckeyes lost their game today against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} by a score of {{ state_attr('sensor.ohio_state_buckeyes','opponent_score') }} to {{ state_attr('sensor.ohio_state_buckeyes','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.ohio_state_buckeyes','team_record') | replace("-"," and ") }} on the season. "
              {% elif yday == date %}
                {% if (state_attr('sensor.ohio_state_buckeyes','team_score') | int) > (state_attr('sensor.ohio_state_buckeyes','opponent_score') | int) %}
                  "The Ohio State Buckeyes won their game yesterday against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} by a score of {{ state_attr('sensor.ohio_state_buckeyes','team_score') }} to {{ state_attr('sensor.ohio_state_buckeyes','opponent_score') }}. "
                {% else %}
                  "The Ohio State Buckeyes lost their game yesterday against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} by a score of {{ state_attr('sensor.ohio_state_buckeyes','opponent_score') }} to {{ state_attr('sensor.ohio_state_buckeyes','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.ohio_state_buckeyes','team_record') | replace("-"," and ") }} on the season. "
              {% endif %}
            {% endif %}
          {% elif is_state('sensor.ohio_state_buckeyes','IN') %}
            {% if state_attr('sensor.ohio_state_buckeyes','opponent_abbr') not in ['MICH'] %}
              {% if (state_attr('sensor.ohio_state_buckeyes','team_score') | int) > (state_attr('sensor.ohio_state_buckeyes','opponent_score') | int) %}
                "The Ohio State Buckeyes are currently winning their game against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} with a score of {{ state_attr('sensor.ohio_state_buckeyes','team_score') }} to {{ state_attr('sensor.ohio_state_buckeyes','opponent_score') }}. "
              {% elif (state_attr('sensor.ohio_state_buckeyes','team_score') | int) == (state_attr('sensor.ohio_state_buckeyes','opponent_score') | int) %}
                "The Ohio State Buckeyes are currently tied in their game against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} with a score of {{ state_attr('sensor.ohio_state_buckeyes','team_score') }} to {{ state_attr('sensor.ohio_state_buckeyes','opponent_score') }}. "
              {% else %}
                "The Ohio State Buckeyes are currently losing their game against the {{ state_attr('sensor.ohio_state_buckeyes','opponent_name') }} with a score of {{ state_attr('sensor.ohio_state_buckeyes','opponent_score') }} to {{ state_attr('sensor.ohio_state_buckeyes','team_score') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.toledo_rockets','POST') %}
            {% if state_attr('sensor.toledo_rockets','opponent_abbr') not in ['OSU','MICH'] %}
              {% set date = state_attr('sensor.toledo_rockets','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                {% if (state_attr('sensor.toledo_rockets','team_score') | int) > (state_attr('sensor.toledo_rockets','opponent_score') | int) %}
                  "The Toledo Rockets won their game today against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} by a score of {{ state_attr('sensor.toledo_rockets','team_score') }} to {{ state_attr('sensor.toledo_rockets','opponent_score') }}. "
                {% else %}
                  "The Toledo Rockets lost their game today against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} by a score of {{ state_attr('sensor.toledo_rockets','opponent_score') }} to {{ state_attr('sensor.toledo_rockets','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.toledo_rockets','team_record') | replace("-"," and ") }} on the season. "
              {% elif yday == date %}
                {% if (state_attr('sensor.toledo_rockets','team_score') | int) > (state_attr('sensor.toledo_rockets','opponent_score') | int) %}
                  "The Toledo Rockets won their game yesterday against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} by a score of {{ state_attr('sensor.toledo_rockets','team_score') }} to {{ state_attr('sensor.toledo_rockets','opponent_score') }}. "
                {% else %}
                  "The Toledo Rockets lost their game yesterday against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} by a score of {{ state_attr('sensor.toledo_rockets','opponent_score') }} to {{ state_attr('sensor.toledo_rockets','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.toledo_rockets','team_record') | replace("-"," and ") }} on the season. "
              {% endif %}
            {% endif %}
          {% elif is_state('sensor.toledo_rockets','IN') %}
            {% if state_attr('sensor.toledo_rockets','opponent_abbr') not in ['OSU','MICH'] %}
              {% if (state_attr('sensor.toledo_rockets','team_score') | int) > (state_attr('sensor.toledo_rockets','opponent_score') | int) %}
                "The Toledo Rockets are currently winning their game against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} with a score of {{ state_attr('sensor.toledo_rockets','team_score') }} to {{ state_attr('sensor.toledo_rockets','opponent_score') }}. "
              {% elif (state_attr('sensor.toledo_rockets','team_score') | int) == (state_attr('sensor.toledo_rockets','opponent_score') | int) %}
                "The Toledo Rockets are currently tied in their game against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} with a score of {{ state_attr('sensor.toledo_rockets','team_score') }} to {{ state_attr('sensor.toledo_rockets','opponent_score') }}. "
              {% else %}
                "The Toledo Rockets are currently losing their game against the {{ state_attr('sensor.toledo_rockets','opponent_name') }} with a score of {{ state_attr('sensor.toledo_rockets','opponent_score') }} to {{ state_attr('sensor.toledo_rockets','team_score') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.minnesota_vikings','POST') %}
            {% set date = state_attr('sensor.minnesota_vikings','date') | as_timestamp | timestamp_custom('%m-%d') %}
            {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
            {% if date == now().strftime('%m-%d') %}
              {% if (state_attr('sensor.minnesota_vikings','team_score') | int) > (state_attr('sensor.minnesota_vikings','opponent_score') | int) %}
                "The Minnesota Vikings won their game today against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_vikings','team_score') }} to {{ state_attr('sensor.minnesota_vikings','opponent_score') }}. "
              {% elif (state_attr('sensor.minnesota_vikings','team_score') | int) == state_attr('sensor.minnesota_vikings','opponent_score') | int %}
                "The Minnesota Vikings tied in their game today against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_vikings','team_score') }} to {{ state_attr('sensor.minnesota_vikings','opponent_score') }}. "
              {% else %}
                "The Minnesota Vikings lost their game today against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_vikings','opponent_score') }} to {{ state_attr('sensor.minnesota_vikings','team_score') }}. "
              {% endif %}
                "This brings their record to {{ state_attr('sensor.minnesota_vikings','team_record') | replace("-"," and ") }} on the season. "
            {% elif yday == date %}
              {% if (state_attr('sensor.minnesota_vikings','team_score') | int) > (state_attr('sensor.minnesota_vikings','opponent_score') | int) %}
                "The Minnesota Vikings won their game yesterday against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_vikings','team_score') }} to {{ state_attr('sensor.minnesota_vikings','opponent_score') }}. "
              {% elif (state_attr('sensor.minnesota_vikings','team_score') | int) == state_attr('sensor.minnesota_vikings','opponent_score') | int %}
                "The Minnesota Vikings tied in their game yesterday against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_vikings','team_score') }} to {{ state_attr('sensor.minnesota_vikings','opponent_score') }}. "
              {% else %}
                "The Minnesota Vikings lost their game yesterday against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_vikings','opponent_score') }} to {{ state_attr('sensor.minnesota_vikings','team_score') }}. "
              {% endif %}
                "This brings their record to {{ state_attr('sensor.minnesota_vikings','team_record') | replace("-"," and ") }} on the season. "
            {% endif %}
          {% elif is_state('sensor.minnesota_vikings','IN') %}
            {% if (state_attr('sensor.minnesota_vikings','team_score') | int) > (state_attr('sensor.minnesota_vikings','opponent_score') | int) %}
              "The Minnesota Vikings are currently winning their game against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} with a score of {{ state_attr('sensor.minnesota_vikings','team_score') }} to {{ state_attr('sensor.minnesota_vikings','opponent_score') }}. "
            {% elif (state_attr('sensor.minnesota_vikings','team_score') | int) == (state_attr('sensor.minnesota_vikings','opponent_score') | int) %}
              "The Minnesota Vikings are currently tied in their game against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} with a score of {{ state_attr('sensor.minnesota_vikings','team_score') }} to {{ state_attr('sensor.minnesota_vikings','opponent_score') }}. "
            {% else %}
              "The Minnesota Vikings are currently losing their game against the {{ state_attr('sensor.minnesota_vikings','opponent_name') }} with a score of {{ state_attr('sensor.minnesota_vikings','opponent_score') }} to {{ state_attr('sensor.minnesota_vikings','team_score') }}. "
            {% endif %}
          {% endif %}
          {% if is_state('sensor.san_francisco_49ers','POST') %}
            {% if state_attr('sensor.san_francisco_49ers','opponent_abbr') not in ['MIN'] %}
              {% set date = state_attr('sensor.san_francisco_49ers','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                {% if (state_attr('sensor.san_francisco_49ers','team_score') | int) > (state_attr('sensor.san_francisco_49ers','opponent_score') | int) %}
                  "The San Francisco 49ers won their game today against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} by a score of {{ state_attr('sensor.san_francisco_49ers','team_score') }} to {{ state_attr('sensor.san_francisco_49ers','opponent_score') }}. "
                {% elif (state_attr('sensor.san_francisco_49ers','team_score') | int) == state_attr('sensor.san_francisco_49ers','opponent_score') | int %}
                  "The San Francisco 49ers tied in their game today against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} by a score of {{ state_attr('sensor.san_francisco_49ers','team_score') }} to {{ state_attr('sensor.san_francisco_49ers','opponent_score') }}. "
                {% else %}
                  "The San Francisco 49ers lost their game today against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} by a score of {{ state_attr('sensor.san_francisco_49ers','opponent_score') }} to {{ state_attr('sensor.san_francisco_49ers','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.san_francisco_49ers','team_record') | replace("-"," and ") }} on the season. "
              {% elif yday == date %}
                {% if (state_attr('sensor.san_francisco_49ers','team_score') | int) > (state_attr('sensor.san_francisco_49ers','opponent_score') | int) %}
                  "The San Francisco 49ers won their game yesterday against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} by a score of {{ state_attr('sensor.san_francisco_49ers','team_score') }} to {{ state_attr('sensor.san_francisco_49ers','opponent_score') }}. "
                {% elif (state_attr('sensor.san_francisco_49ers','team_score') | int) == state_attr('sensor.san_francisco_49ers','opponent_score') | int %}
                  "The San Francisco 49ers tied in their game yesterday against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} by a score of {{ state_attr('sensor.san_francisco_49ers','team_score') }} to {{ state_attr('sensor.san_francisco_49ers','opponent_score') }}. "
                {% else %}
                  "The San Francisco 49ers lost their game yesterday against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} by a score of {{ state_attr('sensor.san_francisco_49ers','opponent_score') }} to {{ state_attr('sensor.san_francisco_49ers','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.san_francisco_49ers','team_record') | replace("-"," and ") }} on the season. "
              {% endif %}
            {% endif %}
          {% elif is_state('sensor.san_francisco_49ers','IN') %}
            {% if state_attr('sensor.san_francisco_49ers','opponent_abbr') not in ['MIN'] %}
              {% if (state_attr('sensor.san_francisco_49ers','team_score') | int) > (state_attr('sensor.san_francisco_49ers','opponent_score') | int) %}
                "The San Francisco 49ers are currently winning their game against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} with a score of {{ state_attr('sensor.san_francisco_49ers','team_score') }} to {{ state_attr('sensor.san_francisco_49ers','opponent_score') }}. "
              {% elif (state_attr('sensor.san_francisco_49ers','team_score') | int) == (state_attr('sensor.san_francisco_49ers','opponent_score') | int) %}
                "The San Francisco 49ers are currently tied in their game against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} with a score of {{ state_attr('sensor.san_francisco_49ers','team_score') }} to {{ state_attr('sensor.san_francisco_49ers','opponent_score') }}. "
              {% else %}
                "The San Francisco 49ers are currently losing their game against the {{ state_attr('sensor.san_francisco_49ers','opponent_name') }} with a score of {{ state_attr('sensor.san_francisco_49ers','opponent_score') }} to {{ state_attr('sensor.san_francisco_49ers','team_score') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.cleveland_guardians','POST') %}
            {% set date = state_attr('sensor.cleveland_guardians','date') | as_timestamp | timestamp_custom('%m-%d') %}
            {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
            {% if date == now().strftime('%m-%d') %}
              {% if (state_attr('sensor.cleveland_guardians','team_score') | int) > (state_attr('sensor.cleveland_guardians','opponent_score') | int) %}
                "The Cleveland Guardians won their game today against the {{ state_attr('sensor.cleveland_guardians','opponent_name') }} by a score of {{ state_attr('sensor.cleveland_guardians','team_score') }} to {{ state_attr('sensor.cleveland_guardians','opponent_score') }}. "
              {% else %}
                "The Cleveland Guardians lost their game today against the {{ state_attr('sensor.cleveland_guardians','opponent_name') }} by a score of {{ state_attr('sensor.cleveland_guardians','opponent_score') }} to {{ state_attr('sensor.cleveland_guardians','team_score') }}. "
              {% endif %}
                "This brings their record to {{ state_attr('sensor.cleveland_guardians','team_record') | replace("-"," and ") }} on the season. "
            {% endif %}
          {% elif is_state('sensor.cleveland_guardians','IN') %}
            {% if (state_attr('sensor.cleveland_guardians','team_score') | int) > (state_attr('sensor.cleveland_guardians','opponent_score') | int) %}
              "The Cleveland Guardians are currently winning their game against the {{ state_attr('sensor.cleveland_guardians','opponent_name') }} with a score of {{ state_attr('sensor.cleveland_guardians','team_score') }} to {{ state_attr('sensor.cleveland_guardians','opponent_score') }}. "
            {% elif (state_attr('sensor.cleveland_guardians','team_score') | int) == (state_attr('sensor.cleveland_guardians','opponent_score') | int) %}
              "The Cleveland Guardians are currently tied in their game against the {{ state_attr('sensor.cleveland_guardians','opponent_name') }} with a score of {{ state_attr('sensor.cleveland_guardians','team_score') }} to {{ state_attr('sensor.cleveland_guardians','opponent_score') }}. "
            {% else %}
              "The Cleveland Guardians are currently losing their game against the {{ state_attr('sensor.cleveland_guardians','opponent_name') }} with a score of {{ state_attr('sensor.cleveland_guardians','opponent_score') }} to {{ state_attr('sensor.cleveland_guardians','team_score') }}. "
            {% endif %}
          {% endif %}
          {% if is_state('sensor.minnesota_twins','POST') %}
            {% if state_attr('sensor.minnesota_twins','opponent_abbr') not in ['CLE','LAD'] %}
              {% set date = state_attr('sensor.minnesota_twins','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                {% if (state_attr('sensor.minnesota_twins','team_score') | int) > (state_attr('sensor.minnesota_twins','opponent_score') | int) %}
                  "The Minnesota Twins won their game today against the {{ state_attr('sensor.minnesota_twins','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_twins','team_score') }} to {{ state_attr('sensor.minnesota_twins','opponent_score') }}. "
                {% else %}
                  "The Minnesota Twins lost their game today against the {{ state_attr('sensor.minnesota_twins','opponent_name') }} by a score of {{ state_attr('sensor.minnesota_twins','opponent_score') }} to {{ state_attr('sensor.minnesota_twins','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.minnesota_twins','team_record') | replace("-"," and ") }} on the season. "
              {% endif %}
            {% endif %}
          {% elif is_state('sensor.minnesota_twins','IN') %}
            {% if state_attr('sensor.minnesota_twins','opponent_abbr') not in ['CLE','LAD'] %}
              {% if (state_attr('sensor.minnesota_twins','team_score') | int) > (state_attr('sensor.minnesota_twins','opponent_score') | int) %}
                "The Minnesota Twins are currently winning their game against the {{ state_attr('sensor.minnesota_twins','opponent_name') }} with a score of {{ state_attr('sensor.minnesota_twins','team_score') }} to {{ state_attr('sensor.minnesota_twins','opponent_score') }}. "
              {% elif (state_attr('sensor.minnesota_twins','team_score') | int) == (state_attr('sensor.minnesota_twins','opponent_score') | int) %}
                "The Minnesota Twins are currently tied in their game against the {{ state_attr('sensor.minnesota_twins','opponent_name') }} with a score of {{ state_attr('sensor.minnesota_twins','team_score') }} to {{ state_attr('sensor.minnesota_twins','opponent_score') }}. "
              {% else %}
                "The Minnesota Twins are currently losing their game against the {{ state_attr('sensor.minnesota_twins','opponent_name') }} with a score of {{ state_attr('sensor.minnesota_twins','opponent_score') }} to {{ state_attr('sensor.minnesota_twins','team_score') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
          {% if is_state('sensor.los_angeles_dodgers','POST') %}
            {% if state_attr('sensor.los_angeles_dodgers','opponent_abbr') not in ['MIN'] %}
              {% set date = state_attr('sensor.los_angeles_dodgers','date') | as_timestamp | timestamp_custom('%m-%d') %}
              {% set yday = (as_timestamp(now()) - (24*3600)) | timestamp_custom('%m-%d') %}
              {% if date == now().strftime('%m-%d') %}
                {% if (state_attr('sensor.los_angeles_dodgers','team_score') | int) > (state_attr('sensor.los_angeles_dodgers','opponent_score') | int) %}
                  "The Los Angeles Dodgers won their game today against the {{ state_attr('sensor.los_angeles_dodgers','opponent_name') }} by a score of {{ state_attr('sensor.los_angeles_dodgers','team_score') }} to {{ state_attr('sensor.los_angeles_dodgers','opponent_score') }}. "
                {% else %}
                  "The Los Angeles Dodgers lost their game today against the {{ state_attr('sensor.los_angeles_dodgers','opponent_name') }} by a score of {{ state_attr('sensor.los_angeles_dodgers','opponent_score') }} to {{ state_attr('sensor.los_angeles_dodgers','team_score') }}. "
                {% endif %}
                  "This brings their record to {{ state_attr('sensor.los_angeles_dodgers','team_record') | replace("-"," and ") }} on the season. "
              {% endif %}
            {% endif %}
          {% elif is_state('sensor.los_angeles_dodgers','IN') %}
            {% if state_attr('sensor.los_angeles_dodgers','opponent_abbr') not in ['MIN'] %}
              {% if (state_attr('sensor.los_angeles_dodgers','team_score') | int) > (state_attr('sensor.los_angeles_dodgers','opponent_score') | int) %}
                "The Los Angeles Dodgers are currently winning their game against the {{ state_attr('sensor.los_angeles_dodgers','opponent_name') }} with a score of {{ state_attr('sensor.los_angeles_dodgers','team_score') }} to {{ state_attr('sensor.los_angeles_dodgers','opponent_score') }}. "
              {% elif (state_attr('sensor.los_angeles_dodgers','team_score') | int) == (state_attr('sensor.los_angeles_dodgers','opponent_score') | int) %}
                "The Los Angeles Dodgers are currently tied in their game against the {{ state_attr('sensor.los_angeles_dodgers','opponent_name') }} with a score of {{ state_attr('sensor.los_angeles_dodgers','team_score') }} to {{ state_attr('sensor.los_angeles_dodgers','opponent_score') }}. "
              {% else %}
                "The Los Angeles Dodgers are currently losing their game against the {{ state_attr('sensor.los_angeles_dodgers','opponent_name') }} with a score of {{ state_attr('sensor.los_angeles_dodgers','opponent_score') }} to {{ state_attr('sensor.los_angeles_dodgers','team_score') }}. "
              {% endif %}
            {% endif %}
          {% endif %}
        {% endif %}
      </p>

      <p>
        {{ [
        "Here is a random dad joke ",
        "In case you hadn't had enough idiotic humor today, here is a little more ",
        "For further proof that the developer responsible for my existence is an idiot, I present the following joke ",
        ] | random }}<break time="1s"/> {{ states('sensor.random_joke') }}
      </p>

      <p>
        {% if is_state('input_boolean.briefing_extras','on') %}
          "And now we have the following extra information to pass along. {{ states('input_text.briefing_extras') }} "
        {% endif %}
      </p>

  {%- endmacro -%}


  {# a macro that removes all newline characters, empty spaces, and returns formatted text  #}
    {%- macro cleanup(data) -%}
      {%- for item in data.split("\n")  if item | trim != "" -%}
        {{ item | trim }} {% endfor -%}
  {%- endmacro -%}

  {# a macro to call all macros :)  #}
    {%- macro mother_of_all_macros() -%}
      {{ getReport() }}
    {%- endmacro -%}
    
    {# Call the macro  #}
    {{- cleanup(mother_of_all_macros()) -}}